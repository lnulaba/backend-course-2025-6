# Inventory Service API

Сервіс інвентаризації для управління предметами з можливістю завантаження фотографій та пошуку.

## Функціональні можливості

- ✅ Реєстрація нових предметів з фото
- ✅ Перегляд списку всіх предметів
- ✅ Отримання інформації про конкретний предмет
- ✅ Оновлення інформації та фото
- ✅ Пошук за ID
- ✅ Видалення предметів
- ✅ Веб-форми для зручності використання
- ✅ Swagger документація

## Встановлення та запуск

### Встановлення залежностей
```bash
npm install
```

### Запуск в режимі розробки
```bash
npm run dev -- --host localhost --port 3000 --cache ./cache
```

### Запуск в production
```bash
npm start -- --host localhost --port 3000 --cache ./cache
```

### Запуск з Docker
```bash
# Збірка образу
docker build -t inventory-service .

# Запуск контейнера
docker run -p 3000:3000 -v $(pwd)/cache:/app/cache inventory-service
```

## Параметри командного рядка

- `-h, --host <host>` - адреса сервера (обов'язковий)
- `-p, --port <port>` - порт сервера (обов'язковий) 
- `-c, --cache <cache>` - шлях до директорії кешу (обов'язковий)

## API Ендпоінти

### POST /register
Реєстрація нового предмета через multipart/form-data:
- `inventory_name` (обов'язково) - назва предмета
- `description` - опис предмета
- `photo` - файл фотографії

### GET /inventory
Отримання списку всіх предметів у форматі JSON.

### GET /inventory/:id
Отримання інформації про конкретний предмет.

### PUT /inventory/:id
Оновлення назви або опису предмета (JSON).

### GET /inventory/:id/photo
Отримання фотографії предмета.

### PUT /inventory/:id/photo
Оновлення фотографії предмета.

### POST /search
Пошук предмета за ID через x-www-form-urlencoded:
- `id` - ID для пошуку
- `has_photo` - прапорець для додавання посилання на фото до опису

### DELETE /inventory/:id
Видалення предмета зі списку.

## Веб-інтерфейс

- `/RegisterForm.html` - форма для реєстрації предметів
- `/SearchForm.html` - форма для пошуку предметів
- `/docs` - API документація (Swagger UI)

## HTTP статус коди

- `200 OK` - успішний запит
- `201 Created` - успішне створення (POST)
- `400 Bad Request` - неправильний запит
- `404 Not Found` - ресурс не знайдено
- `405 Method Not Allowed` - метод не підтримується

## Тестування

Імпортуйте колекцію `collection.json` в Postman для тестування всіх ендпоінтів.

## Структура проекту

```
├── server.js           # Головний файл сервера
├── package.json        # Конфігурація проекту
├── RegisterForm.html   # Форма реєстрації
├── SearchForm.html     # Форма пошуку
├── collection.json     # Postman колекція
├── Dockerfile         # Конфігурація Docker
├── .gitignore         # Виключення для Git
└── cache/             # Директорія для зберігання фото
```
